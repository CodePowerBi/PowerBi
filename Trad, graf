Alert_Monthly =
VAR FechaActual = MAX('tablones_des_tabla_trading'[fecha])
VAR MesActual = MONTH(FechaActual)
VAR AnioActual = YEAR(FechaActual)
VAR TrimestreActual = INT((MesActual - 1) / 3) + 1
VAR AnioTrimestreAnterior = IF(TrimestreActual = 1, AnioActual - 1, AnioActual)
VAR TrimestreAnterior = IF(TrimestreActual = 1, 4, TrimestreActual - 1)
VAR UltimoMes =
    SWITCH(
        TrimestreAnterior,
        1, 3,   // Q1: marzo
        2, 6,   // Q2: junio
        3, 9,   // Q3: septiembre
        4, 12   // Q4: diciembre
    )
VAR FechaUltimoMes = DATE(AnioTrimestreAnterior, UltimoMes, 1)

-- Este es el valor de referencia que quieres repetir
VAR ValorReferencia =
    CALCULATE(
        MAX('tablones_des_tabla_trading'[valor]),
        'tablones_des_tabla_trading'[fecha] = FechaUltimoMes,
        'tablones_des_tabla_trading'[tipo] = "Alert"
    )

-- Repetimos este valor en todas las filas donde el tipo es Alert
RETURN
    IF(
        SELECTEDVALUE('tablones_des_tabla_trading'[tipo]) = "Alert",
        ValorReferencia,
        BLANK()
    )
