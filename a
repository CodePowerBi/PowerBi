Mostrar_Hasta_Rango_CatMes =
VAR MaxYM =
    CALCULATE ( [MesMax_Slicer], ALL ( 'Dicc_epigrafes_total' ) )
VAR Off =
    SELECTEDVALUE ( Eje_Meses[Offset], 0 )
VAR MinYM =
    MaxYM + Off
VAR YM =
    SELECTEDVALUE ( 'A_Dates'[MesAnioOrden] )
VAR EsTotal999 =
    SELECTEDVALUE ( Dicc_Epigrafes_Total[id_epigrafe] ) = 999
RETURN
IF (
    EsTotal999,
    1,                                  -- ✅ el TOTAL siempre pasa
    IF (
        NOT ISINSCOPE ( 'A_Dates'[Monthly] ),
        1,                              -- ✅ fila/columna total del visual
        IF ( YM >= MinYM && YM <= MaxYM, 1, 0 )
    )
)
