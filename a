_MaxFecha_Válida_Trading = 
CALCULATE(
    MAX( 'tablones_des_tabla_trading'[fecha] ),
    FILTER(
        ALL( 'tablones_des_tabla_trading' ),
        'tablones_des_tabla_trading'[Valor] <> 0
    )
)


_______

Es_Ultimos12Meses_Trading = 
VAR MaxFecha     = [_MaxFecha_Válida_Trading]
VAR FechaFin     = EOMONTH( MaxFecha, 0 )
VAR PrimerDiaFin = DATE( YEAR(FechaFin), MONTH(FechaFin), 1 )
VAR FechaInicio  = EDATE( PrimerDiaFin, -12 )
VAR EstaFecha    = 'tablones_des_tabla_trading'[fecha]

RETURN
IF(
    EstaFecha >= FechaInicio &&
    EstaFecha <= FechaFin &&
    'tablones_des_tabla_trading'[Valor] <> 0,
    1,
    0
)

___________

MesAnio_Short_Trading = 
FORMAT(
  'tablones_des_tabla_trading'[fecha],
  "MMM-yy",
  "en-US"
)


__________

MesAnioOrden_Trading = 
YEAR('tablones_des_tabla_trading'[fecha]) * 100
+ MONTH('tablones_des_tabla_trading'[fecha])
