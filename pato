Calendario_LCR_12MesesValidos = 
VAR MaxFechaConDatos = 
    CALCULATE(
        MAX('tablones_des_vista_salida_diario_mensual'[fecha]),
        FILTER(
            'tablones_des_vista_salida_diario_mensual',
            'tablones_des_vista_salida_diario_mensual'[daily_lcr] <> 0 ||
            'tablones_des_vista_salida_diario_mensual'[daily_surplus] <> 0 ||
            'tablones_des_vista_salida_diario_mensual'[net_outflows] <> 0
        )
    )

VAR FechaFin = EOMONTH(MaxFechaConDatos, 0)
VAR FechaInicio = EOMONTH(FechaFin, -12) + 1

RETURN
ADDCOLUMNS(
    CALENDAR(FechaInicio, FechaFin),
    "Año", YEAR([Date]),
    "Mes", MONTH([Date]),
    "NombreMes", FORMAT([Date], "MMMM"),
    "AñoMes", FORMAT([Date], "YYYY-MM")
)
